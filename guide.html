<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.8" />
<title>Gcovr User Guide</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}


#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


@media screen {
  body {
    max-width: 50em; /* approximately 80 characters wide */
    margin-left: 16em;
  }

  #toc {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    width: 13em;
    padding: 0.5em;
    padding-bottom: 1.5em;
    margin: 0;
    overflow: auto;
    border-right: 3px solid #f8f8f8;
    background-color: white;
  }

  #toc .toclevel1 {
    margin-top: 0.5em;
  }

  #toc .toclevel2 {
    margin-top: 0.25em;
    display: list-item;
    color: #aaaaaa;
  }

  #toctitle {
    margin-top: 0.5em;
  }
}
</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>Gcovr User Guide</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_abstract">Abstract</h2>
<div class="sectionbody">
<div class="paragraph"><p>Gcovr provides a utility for managing the use of the GNU
<a href="http://gcc.gnu.org/onlinedocs/gcc/Gcov.html">gcov</a> utility and
generating summarized code coverage results. This command is inspired
by the Python  <a href="http://nedbatchelder.com/code/coverage/">coverage.py</a>
package, which provides a similar utility in Python. The <code>gcovr</code>
command produces either compact human-readable summary reports or
machine readable XML reports (in
<a href="http://cobertura.sourceforge.net/">Cobertura</a> format). Thus, <code>gcovr</code>
can be viewed as a command-line alternative to the
<a href="http://ltp.sourceforge.net/coverage/lcov.php">lcov</a> utility, which
runs gcov and generates an HTML-formatted report.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_overview">1. Overview</h2>
<div class="sectionbody">
<div class="paragraph"><p>Gcovr is a Python package that includes a self-contained <code>gcovr</code>
command.  Gcovr is an extension of <code>gcov</code>, a GNU utility that
summarizes the lines of code that are executed - or "covered" -
while running an executable.  The <code>gcovr</code> command interprets <code>gcov</code>
data files to summarize code coverage in sevearl formats:</p></div>
<div class="ulist"><ul>
<li>
<p>
Text output with coverage statistics indicated with summary statistics and lists of uncovered line, and
</p>
</li>
<li>
<p>
XML output that is compatible with the Cobertura code coverage utility.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The <a href="http://gcovr.com">Gcovr Home Page</a> is
<a href="http://gcovr.com">http://gcovr.com</a>.  This webpage contains links
for documentation in
<a href="http://gcovr.com/guide.html">HTML</a>,
<a href="http://gcovr.com/guide.pdf">PDF</a>, and
<a href="http://gcovr.com/guide.epub">EPUB</a> formats.  The
<a href="http://gcovr.com">Gcovr Home Page</a> also includes developer
resources (e.g. <a href="https://software.sandia.gov/hudson/view/gcovr/">automated
test results</a>).  Gcovr is available under the
<a href="http://www.gnu.org/licenses/bsd.html">BSD</a>
license.</p></div>
<div class="paragraph"><p>The Gcovr User Guide provides the following documentation:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="#gettingStarted">Getting Started</a>: Some simple examples that illustrate how to use Gcovr
</p>
</li>
<li>
<p>
<a href="#gcovrCommand">The <code>gcovr</code> Command</a>: Description of command-line options for <code>gcovr</code>
</p>
</li>
<li>
<p>
<a href="#installation">Installation</a>: How to install Gcovr
</p>
</li>
<li>
<p>
<a href="#discussion">Status and Future Plans</a>: Comments on the past, present and future of Gcovr
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gettingStarted">2. Getting Started</h2>
<div class="sectionbody">
<div class="paragraph"><p>The <code>gcovr</code> command provides a summary of the lines that have been
executed in a program.  Code coverage statistics help you discover
untested parts of a program, which is particularly important when
assessing code quality.  Well-tested code is a characteristic of
high quality code, and software developers often assess code coverage
statistics when deciding if software is ready for a release.</p></div>
<div class="paragraph"><p>The <code>gcovr</code> command can be used to analyze programs compiled with
GCC.   The following sections illustrate the application of <code>gcovr</code>
to test coverage of the following program:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>// example1.cpp

#include &lt;iostream&gt;

#define MACRO()   if (1&lt;0) foo(-1); else foo(1);

int foo(int param)
{
    if (param)
    {
        return 1;
    }
    else
    {
        return 0;
    }
}

void bar(int param)
{
    if (param)
    {
        std::cout &lt;&lt; "param not null." &lt;&lt; std::endl;
    }
    else
    {
        std::cout &lt;&lt; "param is null." &lt;&lt; std::endl;
    }
}


int main(int argc, char* argv[])
{
    MACRO()

    foo(0);

    return 0;
}</code></pre>
</div></div>
<div class="paragraph"><p>This code executes several subroutines in this program, but some lines in the program are not
executed.</p></div>
<div class="sect2">
<h3 id="_tabular_output_of_code_coverage">2.1. Tabular Output of Code Coverage</h3>
<div class="paragraph"><p>We compile <code>example1.cpp</code> with the GCC compiler as follows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>g<span style="color: #990000">++</span> -fprofile-arcs -ftest-coverage -fPIC -O<span style="color: #993399">0</span> example1<span style="color: #990000">.</span>cpp -o program</tt></pre></div></div>
<div class="paragraph"><p>Note that we compile this program without optimization, because
optimization may combine lines of code and otherwise change the
flow of execution in the program.  Additionally, we compile with
the <code>-fprofile-arcs -ftest-coverage -fPIC</code> compiler options, which
add logic to generate output files that can be processed by the
<code>gcov</code> command.</p></div>
<div class="paragraph"><p>The compiler generates the <code>program</code> executable.  When we execute this command:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">.</span>/program</tt></pre></div></div>
<div class="paragraph"><p>the files <code>example1.gcno</code> and <code>example1.gcda</code> are generated.  These
files are processed with by <code>gcov</code> to generate code coverage
statistics.  The <code>gcovr</code> command calls <code>gcov</code> and summarizes these
code coverage statistics in various formats.  For example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>gcovr -r <span style="color: #990000">.</span></tt></pre></div></div>
<div class="paragraph"><p>generates a text summary of the lines executed:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>------------------------------------------------------------------------------
File                                       Lines    Exec  Cover   Missing
------------------------------------------------------------------------------
example1.cpp                                  14       9    64%   19-29
------------------------------------------------------------------------------
TOTAL                                         14       9    64%
------------------------------------------------------------------------------</code></pre>
</div></div>
<div class="paragraph"><p>Each line of this output includes a summary for a given source file,
including the number of lines instrumented, the number of lines
executed, the percentage of lines executed, and a summary of the
line numbers that were not executed.  To improve clarity, gcovr
uses an aggressive approach to grouping uncovered lines and will
combine uncovered lines separated by "non-code" lines (blank,
freestanding braces, and single-line comments) into a single region.
As a result, the number of lines listed in the "Missing" list may
be greater than the difference of the "Lines" and "Exec" columns.</p></div>
<div class="paragraph"><p>The <code>-r</code> option specifies the root directory for the files that are
being analyzed.  This allows <code>gcovr</code> to generate a simpler report
(without absolute path names), and it allows system header files
to be excluded from the analysis.</p></div>
<div class="paragraph"><p>Note that <code>gcov</code> accumulates statistics by line.  Consequently, it
works best with a programming style that places only one statement
on each line.  In <code>example1.cpp</code>, the <code>MACRO</code> macro executes a
branch, but <code>gcov</code> cannot discern which branch is executed.</p></div>
</div>
<div class="sect2">
<h3 id="_tabular_output_of_branch_coverage">2.2. Tabular Output of Branch Coverage</h3>
<div class="paragraph"><p>The <code>gcovr</code> command can also summarize branch coverage using the <code>--branches</code> option:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>gcovr -r <span style="color: #990000">.</span> --branches</tt></pre></div></div>
<div class="paragraph"><p>This generates a tabular output that summarizes the number of branches, the number of
branches taken and the branches that were not completely covered:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>------------------------------------------------------------------------------
File                                    Branches   Taken  Cover   Missing
------------------------------------------------------------------------------
example1.cpp                                   6       4    66%   39
------------------------------------------------------------------------------
TOTAL                                          6       4    66%
------------------------------------------------------------------------------</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_xml_output">2.3. XML Output</h3>
<div class="paragraph"><p>The default output format for <code>gcovr</code> is to generate a tabular
summary in plain text.  The <code>gcovr</code> command can also generate an
XML output using the <code>--xml</code> and <code>--xml-pretty</code> options:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>gcovr -r <span style="color: #990000">.</span> --xml-pretty</tt></pre></div></div>
<div class="paragraph"><p>This generates an XML summary of the lines executed:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>&lt;?xml version="1.0" ?&gt;
&lt;!DOCTYPE coverage
  SYSTEM 'http://cobertura.sourceforge.net/xml/coverage-03.dtd'&gt;
&lt;coverage branch-rate="0.666666666667" line-rate="0.642857142857"
 timestamp="1369671648" version="gcovr 2.5-prerelease (r2833)"&gt;
 &lt;sources&gt;
  &lt;source&gt;.&lt;/source&gt;
 &lt;/sources&gt;
 &lt;packages&gt;
  &lt;package branch-rate="0.666666666667" complexity="0.0"
   line-rate="0.642857142857" name=""&gt;
   &lt;classes&gt;
    &lt;class branch-rate="0.666666666667" complexity="0.0"
     filename="example1.cpp" line-rate="0.642857142857" name="example1_cpp"&gt;
     &lt;lines&gt;
      &lt;line branch="false" hits="1" number="32"/&gt;
      &lt;line branch="false" hits="1" number="34"/&gt;
      &lt;line branch="false" hits="1" number="36"/&gt;
      &lt;line branch="false" hits="1" number="38"/&gt;
      &lt;line branch="false" hits="2" number="7"/&gt;
      &lt;line branch="true" condition-coverage="100% (2/2)" hits="2" number="9"&gt;
       &lt;conditions&gt;
        &lt;condition coverage="100%" number="0" type="jump"/&gt;
       &lt;/conditions&gt;
      &lt;/line&gt;
      &lt;line branch="false" hits="1" number="11"/&gt;
      &lt;line branch="false" hits="1" number="15"/&gt;
      &lt;line branch="false" hits="0" number="19"/&gt;
      &lt;line branch="false" hits="0" number="21"/&gt;
      &lt;line branch="false" hits="0" number="23"/&gt;
      &lt;line branch="true" condition-coverage="50% (2/4)" hits="3" number="39"&gt;
       &lt;conditions&gt;
        &lt;condition coverage="50%" number="0" type="jump"/&gt;
       &lt;/conditions&gt;
      &lt;/line&gt;
      &lt;line branch="false" hits="0" number="27"/&gt;
      &lt;line branch="false" hits="0" number="29"/&gt;
     &lt;/lines&gt;
    &lt;/class&gt;
   &lt;/classes&gt;
  &lt;/package&gt;
 &lt;/packages&gt;
&lt;/coverage&gt;</code></pre>
</div></div>
<div class="paragraph"><p>This XML format is in the
<a href="http://cobertura.sourceforge.net/xml/coverage-03.dtd">Cobertura XML</a>
format suitable for import and display within the
<a href="http://www.jenkins-ci.org/">Jenkins</a> and <a href="http://www.hudson-ci.org/">Hudson</a>
continuous integration servers using the
<a href="https://wiki.jenkins-ci.org/display/JENKINS/Cobertura+Plugin">Cobertura
Plugin</a>.</p></div>
<div class="paragraph"><p>The <code>--xml</code> option generates a denser XML output, and the <code>--xml-pretty</code>
option generates an indented XML output that is easier to read.
Note that the XML output contains more information than the tabular
summary.  The tabular summary shows the percentage of covered lines,
while the XML output includes branch statistics and the number of
times that each line was covered.  Consequently, XML output can be
used to support performance optimization in the same manner that
<code>gcov</code> does.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gcovrCommand">3. The <code>gcovr</code> Command</h2>
<div class="sectionbody">
<div class="paragraph"><p>The <code>gcovr</code> command recursively searches a directory tree to find
<code>gcov</code> coverage files, and generates a text summary of the code
coverage.  The <code>--help</code> option generates the following summary of
the <code>gcovr</code> command line options:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Usage: gcovr [options]

A utility to run gcov and generate a simple report that summarizes the
coverage

Options:
  -h, --help            show this help message and exit
  --version             Print the version number, then exit
  -v, --verbose         Print progress messages
  --object-directory=OBJDIR
                        Specify the directory that contains the gcov data
                        files.  gcovr must be able to identify the path
                        between the *.gcda files and the directory where gcc
                        was originally run.  Normally, gcovr can guess
                        correctly.  This option overrides gcovr's normal path
                        detection and can specify either the path from gcc to
                        the gcda file (i.e. what was passed to gcc's '-o'
                        option), or the path from the gcda file to gcc's
                        original working directory.
  -o OUTPUT, --output=OUTPUT
                        Print output to this filename
  -k, --keep            Keep temporary gcov files
  -d, --delete          Delete the coverage files after they are processed
  -f FILTER, --filter=FILTER
                        Keep only the data files that match this regular
                        expression
  -e EXCLUDE, --exclude=EXCLUDE
                        Exclude data files that match this regular expression
  --gcov-filter=GCOV_FILTER
                        Keep only gcov data files that match this regular
                        expression
  --gcov-exclude=GCOV_EXCLUDE
                        Exclude gcov data files that match this regular
                        expression
  -r ROOT, --root=ROOT  Defines the root directory.  This is used to filter
                        the files, and to standardize the output.
  -x, --xml             Generate XML instead of the normal tabular output.
  --xml-pretty          Generate pretty XML instead of the normal dense
                        format.
  -b, --branches        Tabulate the branch coverage instead of the line
                        coverage.
  -u, --sort-uncovered  Sort entries by increasing number of uncovered lines.
  -p, --sort-percentage
                        Sort entries by decreasing percentage of covered
                        lines.</code></pre>
</div></div>
<div class="paragraph"><p>The following sections illustrate the use of these command line options.</p></div>
<div class="sect2">
<h3 id="_general_options">3.1. General Options</h3>
<div class="paragraph"><p>TODO</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation">4. Installation</h2>
<div class="sectionbody">
<div class="paragraph"><p>Gcovr requires virtually no installation.  The <code>gcovr</code> command can
be downloaded and used directly without installing additional files.</p></div>
<div class="paragraph"><p>If you have
<a href="http://pypi.python.org/pypi/setuptools">setuptools</a> or
<a href="http://pypi.python.org/pypi/distribute">distribute</a>
installed, then
you can install <code>Gcovr</code> from PyPI by executing</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>easy_install gcovr</tt></pre></div></div>
<div class="paragraph"><p>This places the <code>gcovr</code> executable in the <code>bin</code> or <code>Scripts</code> directory
for you python installation.</p></div>
<div class="paragraph"><p>The <code>gcovr</code> script has been tested with many different versions of
Python:  2.4 - 3.2.  Note that this script has only been tested
with the CPython implementation.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="discussion">5. Status and Future Plans</h2>
<div class="sectionbody">
<div class="paragraph"><p>The Gcovr 3.0 release is the first release that is hosted a GitHub.
Previous Gcovr development was hosted at Sandia National Laboratories
as part of the FAST project.  However, Gcovr is now widely used
outside of Sandia, and GitHub will facilitate the integration of
contributions from a wider set of developers.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="acknowledgements">Acknowledgements</h2>
<div class="sectionbody">
<div class="paragraph"><p>The following developers contributed to the Gcovr 3.0 release:</p></div>
<div class="ulist"><ul>
<li>
<p>
William Hart
</p>
</li>
<li>
<p>
John Siirola
</p>
</li>
</ul></div>
<div class="paragraph"><p>The Gcvor documentation is generated using
<a href="http://www.methods.co.nz/asciidoc/">AsciiDoc</a>.</p></div>
<div class="paragraph"><p>We would like to thank the following organizations for providing
web hosting and computing resources: GitHub and Sandia National
Laboratories.  The development of Gcovr has been partially supported
by Sandia National Laboratories.  Sandia National Laboratories is
a multi-program laboratory managed and operated by Sandia Corporation,
a wholly owned subsidiary of Lockheed Martin Corporation, for the
U.S.  Department of Energy&#8217;s National Nuclear Security Administration
under contract DE-AC04-94AL85000.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="appendix_C">Appendix A: Testing Gcovr</h2>
<div class="sectionbody">
<div class="paragraph"><p>In the <code>gcovr/test</code> directory, you can execute</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>python test_gcovr<span style="color: #990000">.</span>py</tt></pre></div></div>
<div class="paragraph"><p>to launch all tests.  By default, this test script executes test suites
on a variety of code configurations that reflect different use-cases for
<code>gcovr</code>.</p></div>
<div class="paragraph"><p>You can execute a specific test suite by giving its name as an
argument to this test script.  For example, the command</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>python test_gcovr<span style="color: #990000">.</span>py GcovrXml</tt></pre></div></div>
<div class="paragraph"><p>executes the <code>GcovrXml</code> test suite, which tests <code>gcovr</code> with XML output.</p></div>
<div class="paragraph"><p>To run the <code>test_gcovr.py</code> script, you will need to install the
<a href="https://pypi.python.org/pypi/pyutilib.th">pyutilib.th</a> package.
If you have
<a href="http://pypi.python.org/pypi/setuptools">setuptools</a> or
<a href="http://pypi.python.org/pypi/distribute">distribute</a>
installed, then
you can install this package from PyPI by executing</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>easy_install pyutilib<span style="color: #990000">.</span>th</tt></pre></div></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2013-05-27 10:57:41 MDT
</div>
</div>
</body>
</html>
